<scxml initial="idle" final="ArrayDestroyedState" version="1.0" xmlns="http://www.w3.org/2005/07/scxml">
	<state id="idle">
		<transition event="Array.creation" target="ArrayCreated"></transition>
		<transition event="Interferometry.init" target="InterferometryInitializeStarted"></transition>
		<transition event="Interferometry.sumAntenna" target="InterferometryException"></transition>
	</state>
        

	<state id="InterferometryException">
		<transition event="Array.destruction" target="ArrayDestroyed"></transition>
		<transition event="Interferometry.init" target="InterferometryInitializeStarted"></transition>
	</state>

	<state id="ArrayCreated">
		<transition event="Interferometry.init" target="InterferometryInitializeStarted"></transition>
		<transition event="Interferometry.sumAntenna" target="InterferometryException"></transition>
	</state>

	<state id="InterferometryInitializeStarted">
		<transition event="Interferometry.cleanUp" target="InterferometryCleanUpBegun"></transition>
		<transition event="Interferometry.twoAntennas" target="InterferometryException"></transition>
		<transition event="Interferometry.settingUp" target="InterferometrySettingUpBegun"></transition>
	</state>
	
	<state id="InterferometrySettingUpBegun">
		<transition event="Interferometry.cleanUp" target="InterferometryCleanUpBegun"></transition>
		<transition event="Interferometry.settingUpEnd" target="InterferometrySettingUpEnded"></transition>
	</state>
	
	<state id="InterferometrySettingUpEnded">
		<transition event="ObservingMode.beginScan" target="ObservingModeScanBegun"></transition>
	</state>
	
	<state id="ObservingModeScanBegun">
		<transition event="Interferometry.doSubscanSequence" target="InterferometrySubscanStarted"></transition>
	</state>
	
	<state id="InterferometrySubscanStarted">
		<transition event="SubscanSequence.run" target="SubscanSequenceSettingUpStarted"></transition>
		<transition event="SubscanSequence.runException" target="SubscanSequenceException"></transition>
	</state>
	
	<state id="SubscanSequenceException">
	</state>
	
	<state id="SubscanSequenceSettingUpStarted">
		<transition event="SubscanSequence.runException" target="SubscanSequenceException"></transition>
		<transition event="ObservingMode.beginSubscan" target="SubscanSequenceLoopStarted"></transition>
	</state>
	
	<state id="SubscanSequenceLoopStarted">
		<transition event="ObservingMode.endSubscan" target="SubscanSequenceLoopEnded"></transition>
		<transition event="SubscanSequence.runException" target="SubscanSequenceException"></transition>
	</state>
	
	<state id="SubscanSequenceLoopEnded">
		<transition event="ObservingMode.beginSubscan" target="SubscanSequenceLoopStarted"></transition>
		<transition event="ObservingMode.endScan" target="ObservingModeScanEnded"></transition>
		<transition event="SubscanSequence.runException" target="SubscanSequenceException"></transition>
	</state>
	
	<state id="ObservingModeScanEnded">
		<transition event="ObservingMode.beginScan" target="ObservingModeScanBegun"></transition>
		<transition event="Interferometry.cleanUp" target="InterferometryCleanUpBegun"></transition>
	</state>
	
	<state id="InterferometryCleanUpBegun">
		<transition event="Interferometry.endCleanUp" target="InterferometryCleanUpEnded"></transition>
	</state>
	
	
	<state id="InterferometryCleanUpEnded">
		<transition event="Interferometry.settingUpException" target="InterferometryException"></transition>
		<transition event="Array.destruction" target="ArrayDestroyed"></transition>
		<transition event="Interferometry.init" target="InterferometryInitializeStarted"></transition>
	</state>
	
	<final id="ArrayDestroyed"></final>
</scxml>
