<scxml initial="idle" final="ArrayDestroyedState" version="0.9" xmlns="http://www.w3.org/2005/07/scxml">
	<state id="idle">
		<transition event="Array.creation" target="ArrayCreatedState"></transition>
	</state>

	<state id="ArrayCreatedState">
		<!-- Expected behaviour -->
		<transition event="SingleDish.init" target="SingleDishInitState"></transition>
	</state>

	<state id="SingleDishInitState">
		<transition event="SingleDish.settingUpException" target="ExceptionState"></transition>
		<transition event="SingleDish.cleanup" target="SingleDishBeginCleanUpState"></transition>
		<transition event="SingleDish.settingUpEnd" target="SingleDishStartedState"></transition>
	</state>

	<state id="SingleDishCleanUpState">
		<transition event="SingleDish.init" target="SingleDishInitState"></transition>
		<transition event="Array.destruction" target="ArrayDestroyedState"></transition>
	</state>

	<state id="SingleDishStartedState">
		<!-- Expected behaviour -->
		<transition event="ObservingMode.beginScan" target="ObservingModeBeginScanState"></transition>
	</state>
	
	<state id="ObservingModeBeginScanState">
		<transition event="SingleDish.subScanSequence" target="SingleDishSubscanState"></transition>
	</state>
	
	<state id="SingleDishSubscanState">
		<transition event="SubscanSequence.run" target="SubscanSequenceSettingUpState"></transition>
		<transition event="SubscanSequence.runException" target="SubscanSequenceExceptionState"></transition>
	</state>
	
	<state id="SubscanSequenceSettingUpState">
		<transition event="ObservingMode.beginSubscan" target="SubscanSequenceLoopStartState"></transition>
		<transition event="SubscanSequence.runException" target="SubscanSequenceExceptionState"></transition>
	</state>
	
	<state id="SubscanSequenceLoopStartState">
		<transition event="ObservingMode.endSubscan" target="SubscanSequenceLoopEndState"></transition>
		<transition event="SubscanSequence.runException" target="SubscanSequenceExceptionState"></transition>
	</state>
	
	<state id="SubscanSequenceLoopEndState">
		<transition event="ObservingMode.beginSubscan" target="SubscanSequenceLoopStartState"></transition>
		<transition event="ObservingMode.endScan" target="ObservingModeEndScanState"></transition>
		<transition event="SubscanSequence.runException" target="SubscanSequenceExceptionState"></transition>
	</state>

	<state id="ObservingModeEndScanState">
		<transition event="ObservingMode.beginScan" target="ObservingModeBeginScanState"></transition>
		<transition event="SingleDish.cleanup" target="SingleDishCleanUpState"></transition>
	</state>
	
	<state id="SingleDishCleanUpState">
		<transition event="SingleDish.init" target="SingleDishInitState"></transition>
		<transition event="Array.destruction" target="ArrayDestroyedState"></transition>
	</state>
	
	<state id="SubscanSequenceExceptionState">
		<transition event="ObservingMode.endScan" target="ObservingModeEndScanState"></transition>
		<transition event="SingleDish.cleanup" target="SingleDishCleanUpState"></transition>
		<transition event="Array.destruction" target="ArrayDestroyedState"></transition>
	</state>

	<state id="ExceptionState">
		<transition event="SingleDish.init" target="SingleDishInitState"></transition>
		<transition event="SingleDish.cleanup" target="SingleDishCleanUpState"></transition>
		<transition event="Array.destruction" target="ArrayDestroyedState"></transition>
	</state>

	<final id="ArrayDestroyedState">
		
	</final>
</scxml>